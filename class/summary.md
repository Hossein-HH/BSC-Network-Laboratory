## جلسه اول 30-11-1401 (آشنایی با Router)
### دستگاه `Router`
* استفاده از `Router 1841`
* برای بررسی اتصالات و وضعیت کلی `Router` از Hover کردن موس روی آن کمک می‌گیریم
* در پشت `Router` تعداد 4 عدد Interface با رنگ های مختلف قرار داد:
    - رنگ زرد: `FE(Fast Ethernet)`
    - رنگ آبی: `Console`
    - رنگ خاکستری: `AUX` یا همان آگزیلاری که پورت پشتیبان برای استفاده در صورت خرابی پورت کنسول می‌باشد.
* اصولا رنگ آبی به نوعی استانداری برای نشان دادن کابل و یا پورت `Console` می‌باشد.
* وظیفه کابل `Console` در واقعیت به ما دسترسی ای را می‌دهد که در CPT با کلیک بر روی دیوایس و انتخاب تب `CLI` می‌توانیم داشته باشیم.
* اصطلاح `Hyper Terminal` برای روتر در واقعیت به کار می‌رود به جای `CLI`.
* برای اضافه کردن ماژول، خاموش کردن `Router` فراموش نشود.
* برای افزودن پورت `FE` به `Router 1841` از ماژول `WIC-1ENET` استفاده می‌کنیم.
* در تب مربوط به `Router` ماژول ها را پس از انتخاب و کلیک روی ماژول مورد نظر علاوه بر نوار سمت چپ از روی اسم آنها؛ از روی عکس نمایش داده شده از ماژول در قسمت پایین سمت راست نیز می‌توانیم اضافه کنیم.
* برای حذف ماژولهای اضافه شده کافیست آنها را خلاف مرحله فوق به جای که از آن آوردیم بکشیم.
* بعد از اعمال تغییرات روی ماژول ها می‌توان با Hover کردن موس روی `Router` مجددا از صحت اتصال ماژول ها مطمئن شد.
* در باکسی که موقع Hover روی `Router` نمایش داده می‌شود؛ بعد از اسم ماژول اضافه شده 3 عدد به ما نشان می‌دهد که عدد وسط نشان دهنده شماره `Slot` ای هست که ماژول روی آن قرار دارد.
* وقتی برای بار اول یک `Router` خام رو روشن می‌کنیم اگه تنظیمات نداشته باشه عبارت `Continue with configuration dialog? [yes/no] : ` برای راهنمایی در ست کردن برخی مقادیر شبیه راه اندازی اولیه پس از نصب ویندوز به ما نمایش می‌دهد و ما به دلیل اینکه با خیلی موارد کار نداریم همان `No` را می‌زنیم یا اصطلاحا از این مراحل skip می‌کنیم.
* در `CLI` عبارت `RETURN` معدل همان Enter است.
* لینوکس توی بازار کار خیلی نیاز هست.
* استاد وقتی میگن کجا هستید ؟ یعنی اعلانمون کجاست؟ و اعلانه خودمون رو بخونیم.
* در اولین مرحله اعلانمون `Router>` هست و به اصطلاح در این مرحله قرار داریم مشابه Directory در terminal سیستم عامل‌ها.
* خیلی از کامند‌هایی که در دنیای واقعی وجود دارند در محیط CPT جوابگو نیستن و این مسئله عادی هست چون سیسکو این بستر رو رسیدن به مرحله متوسط ایجاد کرده و برا کار به صورت حرفه‌ای تر می‌بایست یک دستگاه `Router` تهیه کرد.
* در CPT به طور پیش فرض Interface های ما خاموش هستند.

##  جلسه دوم 07-12-1401 (آشنایی با پیاده سازی یک توپولوژی ساده تنظیم رمز عبور برای اجرای دستور enable و آشنایی با Telnet)
* کابل `Serial` فقط برای ارتباط `Router` به `Router` استفاده میشود.
* در این درس ما از `Switch 2950` استفاده می‌کنیم که 24 پورت دارد.
* برای شناساندن یک `Router` به یک `End device` هنگام IP دهی دستی علاوه بر `IP` و `Subnet Mask` باید `Default Gateway` را هم وارد کنیم.
* مقدار `Default Gateway` برای `End device` همان `IP` مربوط به `Interface` متصل به `Router` می‌باشد. 
  

## جلسه سوم 14-12-1401 (مسیریابی دستی)
* تعیین `Default Gateway` برای End device ها برای ارتباط با دستگاه های دیگر ضروری می‌باشد.
* مقدار `Default Gateway` در اصل همان IP اولین Router متصل به End device مد نظر می‌باشد.
* در `Router` هم می‌توان Ping گرفت.

###  مسیر یابی دستی یا Static یا IP Route
1. تشخیص تعداد زیر شبکه های موجود در شبکه
2. تشخیص و تفکیک تعداد زیر شبکه‌های آشنا برای `Router` مد نظر (آن دسته از زیر شبکه‌های یرا که می‌شناسد گه هیچ ولی آن دسته از زیر شبکه هایی را که نمی‌شناسد برای `Router` معرفی می‌کنیم.)
* هر `Router` زیرشبکه‌هایی که بدون واسطه‌ی یک `Router` دیگر و به طور مستقیم به `Interface` های آن متصل هستند را می‌شناسد و نیازی به معرفی آنها نیست.
3. به ازای هر زیرشبکه‌ای که `Router` مد نظر نمی‌شناسد باید یک `Static Route` تعریف کنیم.
* گام بعدی یا اصطلاحا `Next Hop` برای هر `Router` میشود IP اولین Interface.
* مکانیزم این مسیریابی به این شکل است که اگر حاصل AND دو مقدار `IP بسته‌ی دریافتی` و `destination Sunbet Mask` برابر شد با `destination Net-ID` آن بسته به `Next Hop` ارسال می‌شود.
* هیچ وقت منظور از `Next Hop` یکی از `Interface` های `Router` ای که در حال config آن هستیم نیست منظور گام بعدی از Router جاری هست.
4. با کمک دستور `ip route + destination Net-ID + destination SubnetMask + next Hop` مسریابی دستی را برای زیرشبکه‌های ناشناخته برای هر Router به صورت جداگانه انجام می‌دهیم.
5. با کمک دستور `show ip route` می‌توانیم مسیریابی های دستی انجام شده را مشاهده کنیم.
* با کمک دستور `show ip interface brief` می‌توانیم مشخصات `Interface` های `Router` را مشاهده کنیم.

### کلاس‌های IP
* یک IP از 4 بخش تشکیل شده که به اختصار به این شکل نوشته می‌شود: `W.X.Y.Z`
* تنها ملاک ما برای تعیین کلاس یک IP بخش اول آن یا همان `W` هست.
```
Class A: 001 ≤ W ≤ 126
Class B: 128 ≤ W ≤ 191
Class C: 192 ≤ W ≤ 223 
```

### محاسبه Subnet Mask
* در اصل `Subnet Mask` یک تعداد مشخص(24 رقم) `0, 1` پشت سر هم می‌باشد که به هیچ عنوان `0` بین `1`ها قرار نمی‌گیرد.
* معمولا Subnet Mask را به صورت `K/` نمایش می‌دهیم که `K` نمایانگر تعداد `1`های پشت سر هم می‌باشد.
* می‌توان در مواردی که معادل Binary عددی بزرگ و نزدیک به `255` می‌شود معادل `Not` آن عدد را حساب کرد و از `255` کم کرد در نتیجه حاصل با معادل Binary عدد مطلوب یکسان می‌شود.


## جلسه چهارم 21-12-1401 (تعیین IPهای داخل یک زیر شبکه)
### مواردی که به اشتباه اطلاق می‌شود
+ ~~در یک کلاس IP بودن~~
+ ~~یکی بودن Subnet Mask~~

### فرمول محاسبه `Net ID` 
___
`Net ID = IP & Subnet Mask`
___


+ **تنها معیار برای تعیین IP های داخل یک زیرشبکه مقایسه `Net ID` آنها می‌باشد.**
+ هیچ وقت روی یکسان بودن `Subnet mask`ها حساب باز نشود زیرا این امکان وجود دارد که رقم آخر یا ارقام آخر که بین 2 IP مورد اختلاف هست خارج از دامنه ثابت `Subnet Mask` باشد.

### فرمول محاسبه `Subnet Mask` از روی `k/` 
---
+ برای تبدیل `Subnet Mask` از حالت `Wildcard Mask` به حالت Binary می‌توانیم از این فرمول استفاده کنیم:
```
/k ---> k ~/ 8 = n ---> ((255.) * n) + (k % 8)

/17 ---> 17 ~/ 8 = 2 ---> ((255.) * 2) + (1) 
---> 11111111.11111111.10000000.00000000
---> 255.255.128.0
```
+ `~/` نماد تقسیم فقط با در نظر گرفتن خارج قسمت است.
+ `%` نماد تقسیم فقط با در نظر گرفتن باقی‌مانده است.
+ `+` نماد الحاق 2 رشته است.
---

* بخش هایی از `Subnet Mask` که برابر با 255 نیستند را `بخش های موثر` در محاسبه `Net ID` در نظر می‌گیریم (منظور یکی یا چند `Segment` از `W.X.Y.Z` هست).
* اگر یخش‌های موثر از `Subnet Mask` با معادل آنها در `IP` همپوشانی نداشتند معادل آن بخش ها در `Net ID` برابر با `0` می‌شود در غیر این صورت باید متناسب با جایگاه قرار گیری عدد یا اعداد همپوشان معادل Binary آن‌ها را حساب کرد و برای `Net ID` در نظر گرفت.
* فقط به بخش `Z` در `Subnet Mask` توجه نشود زیرا که بخش‌های دیگر نیز ممکن است مؤثر باشند و یا تغییر پیدا کرده باشند نسبت به `IP` دیگر.
* توصیه به کار کردن با اعداد کوچک‌تر است زیرا که محاسبه آن‌ها راحت‌تر بوده و همچنین معادل استاندارد‌های آرایه‌ها در برنامه‌نویسی که از اندیس اول شروع به پر کردن می‌کنند لحاظ می‌شود.

### چند قانون بسیار مهم
---
1. تمام دستگاه‌هایی که به یک یا چند سوئیچ متصل هستند(که همگی به یک `Router` متصل‌اند) در یک `IP Range` قرار دارند.
2. در یک `Router` تمامی `Interface`ها باید به گونه‌ای IP دهی شوند که `Net ID` آن‌ها منحصر به فرد(یکتا) یا اصطلاحا `Unique` باشند.
> * جهت تعیین `Net ID` یکتا برای `Interface`های یک `Router` بهتر است بخش اول `IP` یا همان `W` را تغییر دهیم.
3. هر 2 سر از یک کابل باید داخل یک زیرشبکه باشند(اصطلاحا `Net ID` آنها برابر باشد).
---
### مفاهیم `Host ID`, `Net ID`
1. تمام فضای 32 بیتی `IP` به 2 قسمت (`Host ID`,`Net ID`) تقسیم می‌شود.
2. تعداد `1`های `Subnet Mask` برابر میشه با تعداد بیت های `Net ID`.
3. طبق قانون عنوان شده در خط بالا با کم کردن تعداد بیت‌های `Net ID` از عدد `32` می‌توان تعداد بیت‌های `Host ID` را محاسبه کرد.
```
<-------- 32 bits -------->
<---Net ID---><--Host ID-->
```
4. فرآیند `IP` دهی نباید بگونه‌ای باشد که تمام `bit`های `Host ID` صفر `0` یا یک `1` باشد.
5. با رعایت قانون فوق می‌توان علاوه بر نوشتن تمام `IP`های ممکن بدون همپوشانی با `Subnet Mask` از `IP`هایی که `1`های Binary آن‌ها با `Subnet Mask` نیز همپوشانی دارند استفاده کرد:
```
/30:

10.20.30.0 =>   (Host-ID = 00)   => ❌
10.20.30.1 =>   (Host-ID = 01)   => ✅
10.20.30.2 =>   (Host-ID = 10)   => ✅
10.20.30.3 =>   (Host-ID = 00)   => ❌
10.20.30.4 =>   (Host-ID = 00)   => ❌
10.20.30.5 =>   (Host-ID = 01)   => ✅
10.20.30.6 =>   (Host-ID = 10)   => ✅
```
6. تعداد کامپیوتر‌هایی که بر اساس یک `Subnet Mask` به عنوان مثال `k/` می‌تواند در یک زیرشبکه(یا همان `Net ID`) قرار بگیرند برابر است با:
```
2^(32-k) -2
```
## جلسه پنجم 20-01-1402 (آدرس‌دهی پیش فرض `Default Routing`)
* از `Default Routing` فقط زمانی می‌تونیم استفاده کنیم که `Router` مد نظرمون فقط یه راه به سمت زیرشبکه‌هایی که نمی‌شناسد داشته باشد.
* به عبارتی دیگر به ازای تمام `Net ID`ها به سمت یک `Next Hop` هدایت شود(به طور خلاصه میتوان گفت با استفاده از این روش کار `Copy` ‌ `Past` های بیهوده و اضافی را با یک دستور انجام می‌دهیم)
> نکته بسیار مهم این قضیه این است که در صورت استفاده از این نوع آدرس دهی تمام درخواست‌ها به سمت یک `Interface` می‌رود در نتیجه تنها در صورتی مجاز به آدرس دهی پیش فرض هستیم که تمام `Next Hop` برای تمامی `IP route`ها یکی باشد.
```cisco
R2(config)# ip route "Net ID" "Subnet Mask"  "Next Hop"
--------------------------------------------------------
R2(config)# ip route  0.0.0.0    0.0.0.0    192.168.20.1
--------------------------------------------------------
```
* دستور فوق معادل است با تمام دستورات زیر: 
```cisco
R2(config)# ip route     "Net ID"     "Subnet Mask"    "Next Hop"
-------------------------------------------------------------------
R2(config)# ip route   192.168.10.0   255.255.255.0   192.168.20.1
R2(config)# ip route   192.168.30.0   255.255.255.0   192.168.20.1
R2(config)# ip route   192.168.50.0   255.255.255.0   192.168.20.1
-------------------------------------------------------------------
```
## جلسه ششم 10-02-1402 (آدرس‌دهی با پروتکل `RIP`)
* تنظیمات پروتکل‌ها به طور کلی از تنظیمات دستی راحت تر است.
* پروتکل‌ها شبیه توابع در برنامه نویسی هستند از کتابخانه هایی آماده.
* زیاد بودن تعداد `Router`ها در مسیریابی های پیش‌فرض چالیش برانگیز خواهد بود.
* در پروتکل‌ها هر `Router` اطلاعات خودش که شامل همون زیر‌شبکه‌های متصل به خودش میشه رو با بقیه `Router`ها به اشتراک میزاره و به این شکل پس از گذشت یه مدت زمان همه `Router`ها از تمام زیرشبکه‌های موجود در شبکه اطلاع خواهند داشت و در ضمن این اطلاعات به روز رسانی می‌شوند پس از یک زمانی.
* این زمان به روزرسانی نیز قابل تنظیم هست.
* در مدل های دستی عملیات به‌روزرسانی متداوم رو نداریم و فقط در صورت تغییر اساسی مانند قطع شدن کانال بین دو `Router` باید تغییرات را به صورت دستی اعمال کنیم.
* مشاهده جدول مسیریابی با دستور `show ip route`.
* تمامی `Router`ها زیرشبکه‌های متصل بهشون رو می‌شناسند و اطلاعاتشون رو به همه `Router`ها می‌دهند(به صورت انتقال بین همسایه های دیوار به دیوار هر `Router` فقط به `Router`های متصل به خودش اطلاعاتش رو میفرسته).
* بعد از یه مدت زمان این اطلاعات بین همه پخش میشه و همه `Router`ها اطلاعات رو به روز میکنند.

### انواع پروتکل‌ها
#### 1. پروتکل‌های Classfull
موقع محاسبه `Net ID` هیچ توجهی به `Subnet Mask`های تنظیم شده ما ندارد و از `Subnet Mask` مربوط به `Class`های استاندارد استفاده می‌کند.
```cisco
 Class |   "Subnet Mask"    |    "Subnet Mask"
--------------------------------------------------
   A   |        /08         |    255. 0 . 0 .0
   B   |        /16         |    255.255. 0 .0
   C   |        /24         |    255.255.255.0
--------------------------------------------------
```
#### 2. پروتکل‌های Classless
این پروتکل‌ها اجباری برای استفاده از استاندارد فوق در نظر ندارند و با `AND` کردن `IP` و `Subnet Mask` ای که کارشناس شبکه در نظر گرفته است نیز میتوان `Net ID` را محاسبه نمود.

* در این درس برای پروتکل‌های `OSPF`,`EIGRP` از حالت `Classless` آنها و برای پروتکل `RIP` از حالت `Classfull` آن استفاده می‌کنیم.
  
برای استفاده از پروتکل `RIP` جهت مسیریابی به صورت زیر عمل میکنیم:
```cisco
>> STEP 1:

R1(config)# router "Protocol name"
----------------------------------
R1(config)# router      rip

>> STEP 2:

R1(config-router)# network "Known Net IDs"
------------------------------------------
R1(config-router)# network  192.168.10.0
R1(config-router)# network  192.168.20.0
R1(config-router)# network  192.168.30.0
```